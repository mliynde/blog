

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#FF83FA">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <title>2020-oj日记 - LighterBlog | Hexo</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"blog.lyer.xyz","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":4,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>LighterBlog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://api.iqianye.cn/get/get_random_image.php?imagetype=mc&displaytype=view') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.5)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="2020-oj日记">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-02-14 15:07" pubdate>
        2021年2月14日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8k 字
    </span>
  

  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">2020-oj日记</h1>
            
            <div class="markdown-body">
              <p>实际上，以下仅仅记录了 2020/02/12 到 2020/02/19 这 8 天的oi日记。</p>
<hr>
<h3 id="First"><a href="#First" class="headerlink" title="First"></a>First</h3><p>在<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/discuss/show/189934">这篇帖子</a>讨论<del>人生</del> BFS，最终解决了 <code>=++z</code> 和 <code>=z+1</code> 有什么区别的问题。   </p>
<h3 id="Then"><a href="#Then" class="headerlink" title="Then"></a>Then</h3><p>随便翻了翻题库，找到了 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1049">P1049</a> 和 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1014">P1014</a> 两题。<br>先肝 P1049，好像有点印象？和 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2347">P2347</a> 有异曲同工之妙。<br>考虑一个一个增加物品 <code>for i 1-n</code>，再从大到小枚举已经有的方案 <code>for j v-0</code>，判断该方案加上这个物品是否符合要求。枚举结束，再补上只用这个物品的方案。<br>贴下代码：<br><figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> n, V;<br><span class="hljs-keyword">int</span> w[<span class="hljs-number">31</span>], totw, ans=<span class="hljs-number">20000</span>;<br><span class="hljs-keyword">bool</span> va[<span class="hljs-number">20010</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; V ;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; n ;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++) <br>		<span class="hljs-built_in">cin</span> &gt;&gt; w[i] ;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>		totw += w[i];<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)&#123;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=min(totw,V); j&gt;=<span class="hljs-number">0</span>; j--)&#123;<br>			<span class="hljs-keyword">if</span>(va[j]==<span class="hljs-literal">true</span> &amp;&amp; j+w[i]&lt;=V)&#123;<br>				va[j+w[i]] = <span class="hljs-literal">true</span>;<br>				ans = min(ans, V-j-w[i]);<br>			&#125;<br>				<br>		&#125;<br>		<span class="hljs-keyword">if</span>(w[i]&lt;=V)&#123;<br>			va[w[i]] = <span class="hljs-literal">true</span>;<br>			ans = min(ans, V-w[i]);<br>		&#125;<br>	&#125;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></div></td></tr></table></figure><br>然后肝 P1014，一道<del>找规律</del>题。<br>画了好久的表，给这张表分层：<br><img src="https://cdn.luogu.com.cn/upload/image_hosting/nikto9w4.png" srcset="/img/loading.gif" alt="">  </p>
<blockquote>
<p>2020/7/16 Updated 直接用 Excel 不就行了???</p>
</blockquote>
<p>每层上的分子分母之和都相等，且等于层数加 1。<br>求层数：<code>k*(k+1)/2&gt;=n</code> 的最小 $k$ 值（枚举）。  确定该层上最小的编号：<code>p=(k-1)*k/2+1;</code>。该编号表示 <code>1/k</code> 或者 <code>k/1</code>。<br>然后求出目标编号与 $p$ 的距离，即 $n-p$ ，把分子分母加上减去 $n-p$ 即可，得到 <code>(1+n-p)/(k-n+p)</code> 或 <code>(k-n+p)/(1+n-p)</code> 。<br>再看填的规律，周期为 $2$，层数整除 $2$ 时，从右上填到左下，最小编号为 <code>1/k</code>；反之，从左下填到右上，最小编号为 <code>k/1</code>。再根据层数求目标编号。<br>贴下代码：<br><figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> n, k, p;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; n ;<br>	<span class="hljs-keyword">while</span>(k*(k+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>&lt;n)&#123;<br>		k++;<br>	&#125;<br>	p = (k<span class="hljs-number">-1</span>)*k/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>; <br>	<span class="hljs-keyword">if</span>(k%<span class="hljs-number">2</span>==<span class="hljs-number">0</span>)<br>		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span>+n-p &lt;&lt; <span class="hljs-string">&#x27;/&#x27;</span> &lt;&lt; k-n+p &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">else</span><br>		<span class="hljs-built_in">cout</span> &lt;&lt; k-n+p &lt;&lt; <span class="hljs-string">&#x27;/&#x27;</span> &lt;&lt; <span class="hljs-number">1</span>+n-p &lt;&lt; <span class="hljs-built_in">endl</span>; <br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure><br>顺便改了下 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/222223/solution-p3383">P3383</a> 的题解，不知道能不能过啊啊啊啊啊啊……<del>过了</del></p>
<h3 id="End"><a href="#End" class="headerlink" title="End"></a>End</h3><p>这个晚上就过去了。<br>22:12 p.m. 2020/02/12</p>
<blockquote>
<p>自从 02/12 夜行了一番，突然想记日记了（假）。</p>
</blockquote>
<h4 id="7-46-a-m"><a href="#7-46-a-m" class="headerlink" title="7:46 a.m."></a>7:46 a.m.</h4><p>再次进入 LG，and，翻到 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1037">P1037</a>。</p>
<p>刚开始想用 BFS，发现不能记状态，再看看规律。</p>
<p>乘法原理。</p>
<p>还有个问题：能否连续变换？比如 2-&gt;5，5-&gt;8，能否得到 2-&gt;8？</p>
<p>先不考虑，吃个早饭。</p>
<h4 id="8-18-a-m"><a href="#8-18-a-m" class="headerlink" title="8:18 a.m."></a>8:18 a.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30522297">还真有</a>。</p>
<p>也不用单独记从某个数变成另一个数，直接 <code>way[i][j]</code> 记能否从 i 变成 j。</p>
<p>而且连续变换就是两点间是否与有通路，<code>Floyd</code> 预定。</p>
<p>坑人的点：2-&gt;3, 3-&gt;2，然后 <code>way[2][2]</code> 为真，如果默认它存在，这样会重复一次。</p>
<p>所以直接让 <code>way[i][i]</code>  为真，初值为 0 就行了。</p>
<p>还有数据溢出，看看用 <code>unsigned long long</code> 还是高精。</p>
<p>真要用高精。。。因为</p>
<figure class="highlight basic"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs basic"><span class="hljs-symbol">6554443333222221111110000000 </span><span class="hljs-number">15</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">0 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">1</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">6 </span><span class="hljs-number">4</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">9</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">7</span><br></code></pre></div></td></tr></table></figure>
<p>它的解有 23 位，不溢出才怪。</p>
<p>高精乘单精比较简单，先乘每一位，再进位，注意控制最高位。</p>
<p>最后贴代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> k;<br><span class="hljs-built_in">string</span> st;<br><span class="hljs-keyword">int</span> n[<span class="hljs-number">35</span>], ans[<span class="hljs-number">120</span>];	<span class="hljs-comment">//高精度</span><br><span class="hljs-keyword">bool</span> way[<span class="hljs-number">12</span>][<span class="hljs-number">12</span>];		<span class="hljs-comment">//way[i][j] 表示能否从 i 变为 j</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Times</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a[], <span class="hljs-keyword">int</span> b)</span></span>&#123;	<span class="hljs-comment">//高精乘单精</span><br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=a[<span class="hljs-number">0</span>]; i++)<br>		a[i] *= b;			<span class="hljs-comment">//每一位</span><br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;a[<span class="hljs-number">0</span>]; i++)&#123;<br>		a[i+<span class="hljs-number">1</span>] += a[i]/<span class="hljs-number">10</span>;<br>		a[i] %= <span class="hljs-number">10</span>;			<span class="hljs-comment">//进位</span><br>	&#125;<br>	<span class="hljs-keyword">while</span>(a[a[<span class="hljs-number">0</span>]]&gt;=<span class="hljs-number">10</span>)&#123;<br>		a[a[<span class="hljs-number">0</span>]+<span class="hljs-number">1</span>] = a[a[<span class="hljs-number">0</span>]] / <span class="hljs-number">10</span>;<br>		a[a[<span class="hljs-number">0</span>]] %= <span class="hljs-number">10</span>;<br>		a[<span class="hljs-number">0</span>]++;				<span class="hljs-comment">//最高位</span><br>	&#125;<br>	<span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a[])</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=a[<span class="hljs-number">0</span>]; i&gt;<span class="hljs-number">0</span>; i--)<br>		<span class="hljs-built_in">cout</span> &lt;&lt; a[i] ;		<span class="hljs-comment">//输出高精数</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>; <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; st &gt;&gt; k;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=k; i++)&#123;<br>		<span class="hljs-keyword">int</span> t1, t2; <br>		<span class="hljs-built_in">cin</span> &gt;&gt; t1 &gt;&gt; t2 ;<br>		way[t1][t2] = <span class="hljs-literal">true</span>;<br>	&#125; <br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">9</span>; i++)<br>		way[i][i] = <span class="hljs-literal">true</span>;	<span class="hljs-comment">//初始化路径</span><br>	<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> kk=<span class="hljs-number">0</span>; kk&lt;=<span class="hljs-number">9</span>; kk++)<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">9</span>; i++)<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;=<span class="hljs-number">9</span>; j++)<br>		way[i][j] = way[i][j] || (way[i][kk] &amp;&amp; way[kk][j]);<br>    						<span class="hljs-comment">//Floyd</span><br>	<br>    n[<span class="hljs-number">0</span>] = st.size();		<span class="hljs-comment">//存下原数字</span><br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n[<span class="hljs-number">0</span>]; i++)<br>		n[i] = st[n[<span class="hljs-number">0</span>]-i]-<span class="hljs-string">&#x27;0&#x27;</span> ;<br>    <br>	ans[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;				<span class="hljs-comment">//初始化答案</span><br>	ans[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>	<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n[<span class="hljs-number">0</span>]; i++)&#123;<br>		<span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;=<span class="hljs-number">9</span>; j++)&#123;<br>			<span class="hljs-keyword">if</span>(way[n[i]][j]==<span class="hljs-literal">true</span>)<br>				t++ ;		<span class="hljs-comment">//计算当前数几种变换</span><br>		&#125; <br>		Times(ans, t);		<span class="hljs-comment">//乘法原理</span><br>	&#125;<br>	print(ans);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>现在 8:53，去肝文化课吧。</p>
<p>下一步：<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1032">P1032</a></p>
<h4 id="11-02-a-m"><a href="#11-02-a-m" class="headerlink" title="11:02 a.m."></a>11:02 a.m.</h4><p>又不想做 P1032 了，<del>懒</del>。</p>
<h4 id="1：47-p-m"><a href="#1：47-p-m" class="headerlink" title="1：47 p.m."></a>1：47 p.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2026">P2026</a> 真寒假作业。</p>
<p>一道解方程题，</p>
<p>y1=kx1+b, y2=kx2+b,</p>
<p>解得 k=(y1-y2)/(x1-x2), b=y1-(y1-y2)/(x1-x2)x1.</p>
<p>还有输出的要求。</p>
<p>调了不久调好了。</p>
<p>code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> x1, x2, y1, y2, k1, k2, b1, b2;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">abs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(x&lt;<span class="hljs-number">0</span>)<br>		x = -x;<br>	<span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(x%y==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> y;<br>	<span class="hljs-keyword">else</span><br>		<span class="hljs-keyword">return</span> gcd(y, x%y);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">yuefen</span><span class="hljs-params">(<span class="hljs-keyword">int</span>&amp; x, <span class="hljs-keyword">int</span>&amp; y)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(x==<span class="hljs-number">0</span>||y==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span>;<br>	<span class="hljs-keyword">int</span> a = gcd(x, y);<br>	x /= a;<br>	y /= a;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;<br>	k1 = x1 - x2;<br>	k2 = y1 - y2;<br>	yuefen(k1, k2);<br>	b1 = x1 - x2;<br>	b2 = y2*(x1-x2)-x2*(y1-y2);<br>	yuefen(b1, b2);<br>	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;y=&quot;</span> ;<br>	<span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(k1)!=<span class="hljs-number">1</span>)&#123;<br>		<span class="hljs-keyword">bool</span> f=<span class="hljs-number">0</span>;<br>		<span class="hljs-keyword">if</span>(k1&lt;<span class="hljs-number">0</span>)<br>			f=!f;<br>		<span class="hljs-keyword">if</span>(k2&lt;<span class="hljs-number">0</span>)<br>			f=!f;<br>		<span class="hljs-keyword">if</span>(f)<br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&#x27;-&#x27;</span> ;<br>		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">abs</span>(k2) &lt;&lt; <span class="hljs-string">&#x27;/&#x27;</span> &lt;&lt; <span class="hljs-built_in">abs</span>(k1) &lt;&lt; <span class="hljs-string">&#x27;*&#x27;</span> &lt;&lt; <span class="hljs-string">&#x27;x&#x27;</span> ;<br>	&#125;<br>	<span class="hljs-keyword">else</span>&#123;<br>		<span class="hljs-keyword">if</span>(k2!=k1)<br>			<span class="hljs-built_in">cout</span> &lt;&lt; k2/k1 &lt;&lt; <span class="hljs-string">&#x27;x&#x27;</span> ;<br>		<span class="hljs-keyword">else</span>&#123;<br>			<span class="hljs-keyword">if</span>(k2/k1&lt;<span class="hljs-number">0</span>)<br>				<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&#x27;-&#x27;</span> ;<br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&#x27;x&#x27;</span> ;<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">if</span>(b2==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(b1)!=<span class="hljs-number">1</span>)&#123;<br>		<span class="hljs-keyword">bool</span> f=<span class="hljs-number">0</span>;<br>		<span class="hljs-keyword">if</span>(b1&lt;<span class="hljs-number">0</span>)<br>			f=!f;<br>		<span class="hljs-keyword">if</span>(b2&lt;<span class="hljs-number">0</span>)<br>			f=!f;<br>		<span class="hljs-keyword">if</span>(f)<br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&#x27;-&#x27;</span>;<br>		<span class="hljs-keyword">else</span><br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&#x27;+&#x27;</span>;<br>		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">abs</span>(b2) &lt;&lt; <span class="hljs-string">&#x27;/&#x27;</span> &lt;&lt; <span class="hljs-built_in">abs</span>(b1) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span>&#123;<br>		<span class="hljs-keyword">if</span>(b2/b1&gt;<span class="hljs-number">0</span>)	<br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&#x27;+&#x27;</span> ;<br>		<span class="hljs-built_in">cout</span> &lt;&lt; b2/b1 &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></div></td></tr></table></figure>
<h4 id="8-26-p-m"><a href="#8-26-p-m" class="headerlink" title="8:26 p.m."></a>8:26 p.m.</h4><p>我到底在干什么？</p>
<p>奇了怪了。</p>
<p>普及-的蒟蒻在 LG <del>大肆闯荡</del>，解决些问题。</p>
<p>以 </p>
<p><img src="https://www.mcmod.cn/pages/tools/achievements/images/achievements/91301_LldIevbK.png" srcset="/img/loading.gif" alt=""></p>
<p>结束这一天吧。</p>
<h1 id="Diary-on-2020-02-14"><a href="#Diary-on-2020-02-14" class="headerlink" title="Diary on 2020/02/14"></a>Diary on 2020/02/14</h1><blockquote>
<p>——今天是什么日子呢？</p>
<p>——今天是 @<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/ENIAC/431133">ENIAC</a> 的生日，一起祝它生日快乐吧！</p>
<p>——情人节是什么？能吃吗？</p>
</blockquote>
<h4 id="09-17-a-m"><a href="#09-17-a-m" class="headerlink" title="09:17 a.m."></a>09:17 a.m.</h4><p>做了文化课的作业，再上 LG，发现在讨论上面的内容。</p>
<p>直接看推荐：<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1029">P1029</a>，最大公约数和最小公倍数问题，显然数论题。</p>
<blockquote>
<p>要求 $P$，$Q$ 以 $x_0$ 为最大公约数，以 $y_0$ 为最小公倍数。</p>
<p>对于 $100\%$ 的数据，$2\le x_0,y_0\le 10^5$。</p>
</blockquote>
<p>先理解下最大公约数和最小公倍数是什么。</p>
<blockquote>
<p>最大公约数，指两个或多个整数共有约数中最大的一个。</p>
<p>与最大公约数相对应的概念是最小公倍数。（有点神秘）</p>
</blockquote>
<p>以及一些结论。</p>
<ol>
<li><p>如果两个自然数是互质数，那么它们的最大公约数是 1，最小公倍数是这两个数的乘积。</p>
</li>
<li><p>如果两个自然数中，较大数是较小数的倍数，那么较小数就是这两个数的最大公约数，较大数就是这两个数的最小公倍数。</p>
</li>
<li><p>两个自然数的最大公约数与它们的最小公倍数的乘积等于这两个数的乘积。（这个会用到）</p>
</li>
</ol>
<p>才 $10^5$ 的数据，应该可以暴力枚举一个数字（枚举区间：$x_0$-&gt;$y_0$），利用结论 $3$ 求出另一个数，并检验正确性。</p>
<p>检验：最大公约数（用辗转相除法求）是否为 $x_0$ 以及最大公约数与 $a$，$b$ 分别除以最大公约数的乘积相乘是否为 $y_0$。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30567718">AC</a> 了？</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> x, y, ans;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(a%b==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> b;<br>	<span class="hljs-keyword">else</span><br>		<span class="hljs-keyword">return</span> gcd(b, a%b);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> a=x; a&lt;=y; a++)&#123;<br>		<span class="hljs-keyword">int</span> b = x*y/a;<br>		<span class="hljs-keyword">int</span> gcdab = gcd(a, b);<br>		<span class="hljs-keyword">if</span>(gcdab==x &amp;&amp; gcdab*(a/gcdab)*(b/gcdab)==y)<br>			ans++;<br>	&#125;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></div></td></tr></table></figure>
<p>另一种方法（对最小公倍数除以最大公约数的值进行质因数分解，并组合这些数，组合的方法数就是答案）以后再想。</p>
<p>（咕咕咕）</p>
<p>9:55 了？End.</p>
<h4 id="01-22-p-m"><a href="#01-22-p-m" class="headerlink" title="01:22 p.m."></a>01:22 p.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1449">P1449</a>，<del>我来了</del>。</p>
<p>从后缀表达式想到栈。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/a98ql0cm.png" srcset="/img/loading.gif" alt=""></p>
<p>这就是一个栈，一种只能在顶部（top）操作的数据结构，也就是 LIFO 表（后进先出表）。</p>
<p>把后缀表达式从左到右压入栈中。如果为运算数，则入栈；如果是运算符，则弹出栈顶两个数，进行计算，结果再入栈。如果这个表达式合法，那么计算结束，栈中只剩一个数，即运算结果。</p>
<p>插一下如何读取运算数：每个运算数都以 <code>.</code> 结尾。开一个临时变量 <code>tmp</code>，如果读到数字，则将当前数乘进制（通常是 10）再加上这个数字。如果读到 <code>.</code>，则将数字压入栈，并清空 <code>tmp</code>。</p>
<p><code>3.5.2.-*7.+@</code></p>
<p>以样例做一个示范：</p>
<ol>
<li><p>读到数字 3，压入栈。</p>
</li>
<li><p>读到数字 5，压入栈。</p>
</li>
<li><p>读到数字 2，压入栈。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/081hs2ed.png" srcset="/img/loading.gif" alt=""></p>
</li>
<li><p>读到运算符 <code>-</code>，弹出栈顶两数，进行相<strong>减</strong>运算（下面减上面），将结果压入栈。</p>
</li>
</ol>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/7do7a0vl.png" srcset="/img/loading.gif" alt=""></p>
<ol>
<li>读到运算符 <code>*</code> ，弹出栈顶两数，进行相<strong>乘</strong>运算，将结果压入栈。</li>
</ol>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/azccvexz.png" srcset="/img/loading.gif" alt=""></p>
<ol>
<li><p>读到数字 7，压入栈。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/fvrid7cr.png" srcset="/img/loading.gif" alt=""></p>
</li>
<li><p>读到运算符 <code>+</code>，弹出栈顶两数，进行相<strong>加</strong>运算，将结果压入栈。</p>
</li>
</ol>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/zabbqp8y.png" srcset="/img/loading.gif" alt=""></p>
<ol>
<li>读到 <code>@</code>，结束。</li>
</ol>
<p>读完了整个后缀表达式，栈中剩余的最后一个数就是结果（16）。</p>
<p>另外，弹出数字的时候不需要把栈中对应数清零，只需要更改栈顶指针（top）。</p>
<p>贴代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> sta[<span class="hljs-number">1010</span>], top=<span class="hljs-number">1</span>, num;<br><span class="hljs-keyword">char</span> ch;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; ch)&#123;<br>		<span class="hljs-keyword">if</span>(ch&gt;=<span class="hljs-string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="hljs-string">&#x27;9&#x27;</span>)&#123;<br>			num = num*<span class="hljs-number">10</span>+ch-<span class="hljs-string">&#x27;0&#x27;</span>;<br>			<span class="hljs-keyword">continue</span>;<br>		&#125;<br>		<span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;.&#x27;</span>)&#123;<br>			sta[top] = num;<br>			num = <span class="hljs-number">0</span>;<br>			top++;<br>			<span class="hljs-keyword">continue</span>;<br>		&#125;<br>		<span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;@&#x27;</span>)&#123;<br>			<span class="hljs-built_in">cout</span> &lt;&lt; sta[top<span class="hljs-number">-1</span>] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>			<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>		&#125;<br>		<span class="hljs-keyword">int</span> n1 = sta[top<span class="hljs-number">-2</span>], n2 = sta[top<span class="hljs-number">-1</span>];<br>		top-=<span class="hljs-number">2</span>;<br>		<span class="hljs-keyword">switch</span>(ch)&#123;<br>			<span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:&#123;<br>				sta[top] = n1 + n2;<br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br>			<span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:&#123;<br>				sta[top] = n1 - n2;<br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br>			<span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:&#123;<br>				sta[top] = n1 * n2;<br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br>			<span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>:&#123;<br>				sta[top] = n1 / n2;<br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br>		&#125;<br>		top++;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>然后就没有然后了。</p>
<h4 id="p-m"><a href="#p-m" class="headerlink" title="??:?? p.m."></a>??:?? p.m.</h4><p>我捡到了。。。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1482">P1482</a> 还是 Cantor 表。</p>
<p>只不过简单了很多，即：分离数字，求最大公约数，约分，输出分母分子。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/222223/solution-p1482">题解</a></p>
<h4 id="07-47-p-m"><a href="#07-47-p-m" class="headerlink" title="07:47 p.m."></a>07:47 p.m.</h4><p>又去刷团队题库，<del>倒着刷</del>，先看 BFS，一半的空白。</p>
<figure class="highlight llvm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs llvm">T<span class="hljs-number">105674</span><br>有n个人，他们的编号为<span class="hljs-number">1</span>~n，其中有一些人相互认识，现在j想要认识k，可以通过他所认识的人来认识更多的人（如果a认识b、b认识<span class="hljs-keyword">c</span>，那么a可以通过b来认识<span class="hljs-keyword">c</span>），求出<span class="hljs-keyword">x</span>最少需要通过多少人才能认识y。<br></code></pre></div></td></tr></table></figure>
<p>关系网络好像是求单位长度为 1 的最短路？</p>
<p>反正 BFS 能解决（因为出了队后无需再入队）。</p>
<figure class="highlight"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs">T105672<br>下面的矩形是由数字0到9组成，其中数字0代表树，1~9代表猴子，凡是由0或矩形边围起来的区域表示有一群猴子在这一带。给定数字矩形，求矩形中有多少群猴子。<br></code></pre></div></td></tr></table></figure>
<p>顺序扫完矩阵，</p>
<p>遇到一只猴子就入一次队，并上下左右扩展，扩展后标记为 0，每做完一次 BFS，猴群加一。</p>
<p>现存问题：扩展出节点后队尾指针没加 1。</p>
<figure class="highlight armasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs armasm">神仙题 T105673<br>有<span class="hljs-number">3</span>个油瓶X、Y、Z容量分别为A斤、B斤、C斤，开始时<span class="hljs-number">3</span>个瓶的油量分别为<span class="hljs-built_in">A1</span>、B1、<span class="hljs-built_in">C1</span>，编程输出最少倒多少步，才可以使<span class="hljs-number">3</span>个瓶的油量分别为<span class="hljs-built_in">A2</span>、B2、<span class="hljs-built_in">C2</span>。<br></code></pre></div></td></tr></table></figure>
<p>这倒的方法就太多了，从一个瓶子倒到另一个瓶子就有 6 种选择，每种选择又有 2 种倒法（一空 / 另一满）。</p>
<p>直接用数组下标表示 3 个油瓶，即 <code>bottle[1]</code> 表示瓶子 A，以此类推。</p>
<p>容积 <code>maxl</code>，初始容量 <code>start</code>，目标容量 <code>end</code>。</p>
<p>三维数组 <code>f[x][y][z]</code> 记录三个油瓶内油质量依次为 x，y，z 的情况是否出现。（这个很重要，直接影响结果，见下）</p>
<p>常量数组记每次方案选择：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> d1[]=&#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>&#125;, d2[]=&#123;<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;, d3[]=&#123;<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>&#125;;<br></code></pre></div></td></tr></table></figure>
<p>d1 表示从哪个瓶子倒油，d2 表示把油倒到哪个瓶子里，d3 表示不操作哪个油瓶。</p>
<p>每次循环，判断 d1，d2 两个油瓶内油的质量总和是否大于 d2 的容积，大于则 d2 被填满，否则 d1 被倒空（两种情况可能同时存在，不影响；油瓶内油的质量为 0 也不影响）。</p>
<p>若不大于：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp">newp[d1[i]] = <span class="hljs-number">0</span>;<br>newp[d2[i]] = nowp[d1[i]] + nowp[d2[i]];<br>newp[d3[i]] = nowp[d3[i]] ;		<br></code></pre></div></td></tr></table></figure>
<p>若大于：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp">newp[d1[i]] = nowp[d1[i]]-maxl[d2[i]]+nowp[d2[i]];<br>newp[d2[i]] = maxl[d2[i]];<br>newp[d3[i]] = nowp[d3[i]];<br></code></pre></div></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30605295">提交了下</a>，40 分？还有错的点？</p>
<p>因为结构较复杂，内层循环变量 <code>j</code> 误打成 <code>i</code>。改后再调试，还不对？</p>
<p>追踪数据变化，发现重复的状态，然后看到了这段代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp">f[newp[<span class="hljs-number">1</span>]][newp[<span class="hljs-number">2</span>]][newp[<span class="hljs-number">3</span>]]==<span class="hljs-number">1</span>;<br></code></pre></div></td></tr></table></figure>
<p>。。。</p>
<p>想起来，这是照搬上面判断的代码，只是把值改了下，没注意运算符。</p>
<p>赶快改回去，再调试，对了。</p>
<p>提交，<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30605295">AC 100</a>。</p>
<p>这操作。。。</p>
<p>再优化下结构，最终代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">bool</span> f[<span class="hljs-number">101</span>][<span class="hljs-number">101</span>][<span class="hljs-number">101</span>];<br><span class="hljs-keyword">int</span> path[<span class="hljs-number">100010</span>][<span class="hljs-number">4</span>], head, tail;<br><span class="hljs-keyword">int</span> start[<span class="hljs-number">4</span>], maxl[<span class="hljs-number">4</span>], end[<span class="hljs-number">4</span>];<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> d1[]=&#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>&#125;, d2[]=&#123;<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;, d3[]=&#123;<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">getans</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ans[])</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">3</span>; i++)&#123;<br>		<span class="hljs-keyword">if</span>(ans[i]!=end[i])<br>			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">3</span>; i++)<br>		<span class="hljs-built_in">cin</span> &gt;&gt; maxl[i];<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">3</span>; i++)<br>		<span class="hljs-built_in">cin</span> &gt;&gt; start[i];<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">3</span>; i++)<br>		<span class="hljs-built_in">cin</span> &gt;&gt; end[i]; <br>    <br>	head = <span class="hljs-number">1</span>;<br>	tail = <span class="hljs-number">2</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">3</span>; i++)<br>		path[head][i] = start[i];<br>	f[start[<span class="hljs-number">1</span>]][start[<span class="hljs-number">2</span>]][start[<span class="hljs-number">3</span>]] = <span class="hljs-literal">true</span>;<br>    <br>	<span class="hljs-keyword">while</span>(head&lt;tail)&#123;<br>		<span class="hljs-keyword">int</span> nowp[<span class="hljs-number">4</span>];<br>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">3</span>; i++)<br>			nowp[i] = path[head][i];<br>		head++;<br>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">6</span>; i++)&#123;<br>			<span class="hljs-keyword">int</span> newp[<span class="hljs-number">4</span>];<br>			<span class="hljs-keyword">if</span>(nowp[d1[i]] + nowp[d2[i]] &lt;= maxl[d2[i]])&#123;<br>				newp[d1[i]] = <span class="hljs-number">0</span>;<br>				newp[d2[i]] = nowp[d1[i]] + nowp[d2[i]];<br>			&#125;<br>			<span class="hljs-keyword">else</span>&#123;<br>				newp[d1[i]] = nowp[d1[i]]-maxl[d2[i]]+nowp[d2[i]];<br>				newp[d2[i]] = maxl[d2[i]];<br>			&#125;<br>             newp[d3[i]] = nowp[d3[i]];<br>			newp[<span class="hljs-number">0</span>] = nowp[<span class="hljs-number">0</span>]+<span class="hljs-number">1</span>;<br>			<span class="hljs-keyword">if</span>(f[newp[<span class="hljs-number">1</span>]][newp[<span class="hljs-number">2</span>]][newp[<span class="hljs-number">3</span>]]==<span class="hljs-number">0</span>)&#123;<br>					<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;=<span class="hljs-number">3</span>; j++)<br>					 	path[tail][j] = newp[j];<br>					tail++;<br>					f[newp[<span class="hljs-number">1</span>]][newp[<span class="hljs-number">2</span>]][newp[<span class="hljs-number">3</span>]]=<span class="hljs-number">1</span>;<br>					<span class="hljs-keyword">if</span>(getans(newp))&#123;<br>						<span class="hljs-built_in">cout</span> &lt;&lt; newp[<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>						<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>					&#125;<br>				&#125;<br>		&#125;<br>	&#125;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;no&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>; <br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>刷到了 11:21 p.m.，差不多了。</p>
<p>So much for today.</p>
<blockquote>
<p>被题虐自闭了。</p>
</blockquote>
<h4 id="11-04-a-m"><a href="#11-04-a-m" class="headerlink" title="11:04 a.m."></a>11:04 a.m.</h4><p>再来一波推荐，<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1147">连续自然数和</a>，据说有前缀和？</p>
<h5 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1:"></a>Step 1:</h5><p>想到等差数列求和公式：（首项+尾项）× 项数 ÷ 2；</p>
<p>那方便了，两层循环枚举首项和尾项，再用公式求和，有解就输出。</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">int</span> m;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; m ;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=m; i++)<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=i+<span class="hljs-number">1</span>; (i+j)*(j-i+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>&lt;=m; j++)	<span class="hljs-comment">//最大枚举区间</span><br>		<span class="hljs-keyword">if</span>((<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>)(i+j)*(j-i+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span> == m)<br>			 <span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; j &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>（氧化钙）连吸氧优化都不要就可以 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30615498">AC</a>？</p>
<h5 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h5><p>鸽了。</p>
<h4 id="04-02-p-m"><a href="#04-02-p-m" class="headerlink" title="04:02 p.m."></a>04:02 p.m.</h4><p>打个月赛 Div.2，都能被打自闭，46 滚粗。</p>
<p>没了。</p>
<h4 id="p-m-1"><a href="#p-m-1" class="headerlink" title="??:?? p.m."></a>??:?? p.m.</h4><p>见识到了从前的我：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> t=s1;s2=s1;s2=t;<br></code></pre></div></td></tr></table></figure>
<p>难怪总会错一点。</p>
<blockquote>
<p>Sunday, <del>no homework</del>. </p>
</blockquote>
<h4 id=""><a href="#" class="headerlink" title="??:??"></a>??:??</h4><p>再做一下 BFS 题。</p>
<figure class="highlight gml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gml">农夫知道一头牛的位置，想要抓住它。农夫和牛都位于数轴上，农夫起始位于点n(<span class="hljs-number">0</span>&lt;=n&lt;=<span class="hljs-number">100000</span>)，牛位于点k(<span class="hljs-number">0</span>&lt;=k&lt;=<span class="hljs-number">100000</span>)并且n&lt;k。农夫有两种移动方式：<br><span class="hljs-number">1</span>、从<span class="hljs-symbol">x</span>移动到<span class="hljs-symbol">x</span><span class="hljs-number">-1</span>或<span class="hljs-symbol">x</span>+<span class="hljs-number">1</span>，每次移动花费一分钟<br><span class="hljs-number">2</span>、从<span class="hljs-symbol">x</span>移动到<span class="hljs-number">2</span>*<span class="hljs-symbol">x</span>，每次移动花费一分钟<br>假设牛没有意识到农夫的行动，站在原地不动。农夫最少要花多少时间才能抓住牛？<br></code></pre></div></td></tr></table></figure>
<p>每种状态可能扩展 $3$ 个状态，分别扩展即可。</p>
<p>注意边界，不能一直扩展 $2x$ 的节点，可能溢出，而且没用，限制最大 $250000$。</p>
<p>问题是只有 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30682922">$90$</a> 分？不管了，<del>反正他们都是 $90$ 分</del>。</p>
<h5 id="Next"><a href="#Next" class="headerlink" title="Next"></a>Next</h5><figure class="highlight excel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs excel">jzj最近学了个很实用的魔术，他可以把一个东西变少或者变多。但是由于水平还不到家，所以变多或变少的模式只有三种。<br>（<span class="hljs-number">1</span>） 变少一个（<span class="hljs-built_in">n</span> -&gt; <span class="hljs-built_in">n</span>-<span class="hljs-number">1</span>）<br>（<span class="hljs-number">2</span>） 变多一个（<span class="hljs-built_in">n</span> -&gt; <span class="hljs-built_in">n</span>+<span class="hljs-number">1</span>）<br>（<span class="hljs-number">3</span>） 变为原来的p次幂(p为任意正整数)。（<span class="hljs-built_in">n</span> -&gt; <span class="hljs-built_in">n</span>^p）<br>Jzj喜欢吃薯条，一包薯条jzj不停地吃啊吃，最后只剩下了一根。但是jzj舍不得把剩下的一根一口就吃掉，所以他想用他的小魔法把薯条变得越来越多越来越多~ 可是薯条吃太多，jzj的肚子也撑不下，所以jzj订好了计划，他只能再吃<span class="hljs-built_in">n</span>根薯条，少吃一根jzj会不开心，多吃一根jzj的肚子会撑坏，所以jzj只能恰好吃<span class="hljs-built_in">n</span>根薯条。<br>Jzj想尽快的吃到这<span class="hljs-built_in">n</span>根薯条，所以他想知道他最少需要施展几次魔法能够把<span class="hljs-number">1</span>根薯条变为<span class="hljs-built_in">n</span>根。<br></code></pre></div></td></tr></table></figure>
<p>和上面的题相似，只是一种变化从 $2n$ 变成了 $n^p$，同样注意边界。</p>
<p>但数据范围小了很多，只剩 $100$？<del><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30685156">改改就过了</a></del>。</p>
<h4 id="12-40-p-m"><a href="#12-40-p-m" class="headerlink" title="12:40 p.m."></a>12:40 p.m.</h4><p>然后递推递归。</p>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1025">P1025</a></p>
<figure class="highlight excel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs excel">将整数<span class="hljs-built_in">n</span>分成k份，且每份不能为空，任意两个方案不相同(不考虑顺序)。<br>例如：<span class="hljs-built_in">n</span>=<span class="hljs-number">7</span>，k=<span class="hljs-number">3</span>，下面三种分法被认为是相同的。<br><span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span>;<br><span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">1</span>;<br><span class="hljs-number">5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>;<br>问有多少种不同的分法。<br></code></pre></div></td></tr></table></figure>
<p>先确定第一项填什么（至少为 $1$），然后变为后 $k-1$ 项的方案总数。</p>
<p>为保证不重复，整个序列应呈不下降趋势，从而首项不能大于 $\dfrac{n}{k}$，之后的每一项都不小于前一项。</p>
<p>设 $f(n, k, p)$  表示整数 $n$ 分成 $k$ 份，且前一项不小于 $p$ 时，分的方案总数，则</p>
<script type="math/tex; mode=display">
f(n,k,p)=\sum_{i=\max(1,p)}^{\lfloor\frac{n}{k}\rfloor} f(n-i,k-1,i)</script><p>边界：如果 $k$ 大于 $n$，则返回 $0$；如果 $k$ 等于 $1$，则返回 $1$。</p>
<p>没有记忆化，测下最大数据，没超时：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> n, k;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> p)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(n&lt;k)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(k==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">int</span> t=<span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=max(p, <span class="hljs-number">1</span>); i&lt;=n/k; i++)<br>		t += f(n-i, k<span class="hljs-number">-1</span>, i);<br>	<span class="hljs-keyword">return</span> t;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; k;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; f(n, k, <span class="hljs-number">0</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>提交 AC。</p>
<p>链接：<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2386">P2386</a>，与上一题的差别只有可以填 $0$，以及多了些数据。</p>
<p>因为可以填 $0$，所以不需要 $k$ 大于 $n$ 时返回 $0$ 的条件。$k$ 等于 $1$ 时返回 $1$。</p>
<p>代码：<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30686948">无</a></p>
<h5 id="Stopping"><a href="#Stopping" class="headerlink" title="Stopping!"></a>Stopping!</h5><h4 id="07-01-p-m"><a href="#07-01-p-m" class="headerlink" title="07:01 p.m."></a>07:01 p.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1079">P1079 Vigenère 密码</a></p>
<p>一开始以为要把运算®的规则打个表，再看看规律：</p>
<p>记字母 A 的编号为 $0$，B 为 $1$，…，Z 为 $25$，则运算®就是两字母编号和再模 $26$ 的值对应的字母。</p>
<p>可以反推原文：密文减去密钥再模 $26$ 的值对应字母。有可能密文减去密钥的值小于 $0$，加一个 $26$ 即可。</p>
<p>大小写容易控制，<del>if-else 能解决的事</del>。</p>
<p>注意字符串指针控制，一旦超出就归零。</p>
<p>code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">string</span> key, st;<br><span class="hljs-keyword">int</span> p, len, kl;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; key &gt;&gt; st;<br>	len = st.size();<br>	kl = key.size();<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;len; i++)&#123;<br>		<span class="hljs-keyword">int</span> k, s, n;<br>		<span class="hljs-keyword">if</span>(st[i]&gt;=<span class="hljs-string">&#x27;a&#x27;</span>)<br>			s = st[i]-<span class="hljs-string">&#x27;a&#x27;</span>;<br>		<span class="hljs-keyword">else</span><br>			s = st[i]-<span class="hljs-string">&#x27;A&#x27;</span>;<br>		<span class="hljs-keyword">if</span>(key[p]&gt;=<span class="hljs-string">&#x27;a&#x27;</span>)<br>			k = key[p]-<span class="hljs-string">&#x27;a&#x27;</span>;<br>		<span class="hljs-keyword">else</span><br>			k = key[p]-<span class="hljs-string">&#x27;A&#x27;</span>;<br>		n = (s+<span class="hljs-number">26</span>-k)%<span class="hljs-number">26</span> ;<br>		<span class="hljs-keyword">if</span>(st[i]&gt;=<span class="hljs-string">&#x27;a&#x27;</span>)<br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">char</span>(n+<span class="hljs-string">&#x27;a&#x27;</span>) ;<br>		<span class="hljs-keyword">else</span><br>			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">char</span>(n+<span class="hljs-string">&#x27;A&#x27;</span>) ;<br>		p++;<br>		<span class="hljs-keyword">if</span>(p==kl)<br>			p=<span class="hljs-number">0</span>;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;	<span class="hljs-comment">//忘记输出换行符了</span><br>&#125; <br></code></pre></div></td></tr></table></figure>
<p>So few for today.</p>
<blockquote>
<p>又是<del>美好</del>有作业的一天呢！</p>
</blockquote>
<h4 id="09-37-a-m"><a href="#09-37-a-m" class="headerlink" title="09:37 a.m."></a>09:37 a.m.</h4><p>这些文字是在 Typora 上写的。</p>
<p>之前不能插入 <script type="math/tex">\LaTeX</script> 的公式，翻了翻偏好设置，好像发现了什么。。。</p>
<p>现在： $\LaTeX$。</p>
<h4 id="11-54-a-m"><a href="#11-54-a-m" class="headerlink" title="11:54 a.m."></a>11:54 a.m.</h4><p><a target="_blank" rel="noopener" href="http://www.noi.cn/newsview.html?id=1174&amp;hash=BBB849&amp;type=1">一个通知</a>，据说 1= 的能优先报？</p>
<p>先不管它。</p>
<h4 id="03-07-p-m"><a href="#03-07-p-m" class="headerlink" title="03:07 p.m."></a>03:07 p.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1077">P1077</a>。</p>
<p>毕竟是团队「递推递归初步」的作业，能用递归。</p>
<p>设 $f(n,m)$ 表示对于前 $n$ 种花摆放 $m$ 盆的方案总数，考虑第 $n$ 种花放的盆数，从 $0$ 到 $a_i$ 多种选择，那么</p>
<script type="math/tex; mode=display">
f(n,m)=\sum ^{a_n}_{i=0}f(n-1,m-i)</script><p>边界条件（就是直接能得到答案的情况）：$m&lt;0$ 时返回 $0$；$n=1$ 且能摆下（$a_1\ge m$）时返回 $1$，不能摆下则返回 $0$。</p>
<p>求和时都对 $1000007$ 取模即可。</p>
<p>顺便用下 <code>inline</code>（如果有点用呢）。</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(m&lt;<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;	<br>	<span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">if</span>(a[<span class="hljs-number">1</span>]&gt;=m)<br>			<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">else</span><br>			<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">int</span> tmp=<span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=a[n]; i++)<br>		tmp += f(n<span class="hljs-number">-1</span>, m-i)%MOD;<br>	<span class="hljs-keyword">return</span> tmp%MOD;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>如果不加记忆化，可以得到空间复杂度为 $O(n)$ 的算法，时间复杂度为 $O(不知道高到哪去了)$，反正超时。如果必要的空间都开不成，那时间一定上天。</p>
<p>记忆化：根据 $n$，$m$ 的大小开空间。因为 $0&lt;n\le100,0&lt;m\le 100,0\le ai\le 100$，所以空间开到 <code>mem[101][101]</code>就行了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD=<span class="hljs-number">1000007</span>;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">101</span>], n, m;<br><span class="hljs-keyword">int</span> mem[<span class="hljs-number">101</span>][<span class="hljs-number">101</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">readp</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>		<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>	<span class="hljs-built_in">memset</span>(mem, <span class="hljs-number">0xff</span>, <span class="hljs-keyword">sizeof</span>(mem));<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(m&lt;<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(mem[n][m]!=<span class="hljs-number">-1</span>)<br>		<span class="hljs-keyword">return</span> mem[n][m];<br>	<span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">if</span>(a[<span class="hljs-number">1</span>]&gt;=m)<br>			<span class="hljs-keyword">return</span> mem[n][m]=<span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">else</span><br>			<span class="hljs-keyword">return</span> mem[n][m]=<span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">int</span> tmp=<span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=a[n]&amp;&amp;m-i&gt;=<span class="hljs-number">0</span>; i++)<br>		tmp += f(n<span class="hljs-number">-1</span>, m-i)%MOD;<br>	<span class="hljs-keyword">return</span> mem[n][m]=tmp%MOD;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	readp();<br>	<span class="hljs-built_in">cout</span> &lt;&lt; f(n,m) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;   <br></code></pre></div></td></tr></table></figure>
<h4 id="04：06-p-m"><a href="#04：06-p-m" class="headerlink" title="04：06 p.m."></a>04：06 p.m.</h4><p>这题：</p>
<figure class="highlight excel"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs excel">已知<span class="hljs-number">3</span>×<span class="hljs-number">2</span><span class="hljs-built_in">n</span>个棋盘格子，试求用火柴棒覆盖所有格子的方法（一根火柴棒可覆盖<span class="hljs-number">2</span>个格子）。<br></code></pre></div></td></tr></table></figure>
<p>如 $n=1$ 时，有3种覆盖方案：</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/q7068l1o.png" srcset="/img/loading.gif" alt=""></p>
<p>只考虑最后 $3\times 2$ 个格子的填法（$3\times 1$，$3\times 3$ 的格子不能恰好被填满，$3\times 4$ 的格子又能被拆成 $2$ 个 $3\times 2$ 的格子），就是如上图的 $3$ 种方法。</p>
<p>答案就清楚了，$3^n$ 完事。</p>
<p>试试，完美全 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30740800">WA</a>。</p>
<p>还有 $3\times 4$ 的可能！如下图：</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/tqxubc9r.png" srcset="/img/loading.gif" alt=""></p>
<p>这种可以变出 $2$ 种方案。</p>
<p>还有 $3\times 6$，$3\times 8$，等等。</p>
<p>$3\times 2$ 的其中 $2$ 种情况也能并入其中。</p>
<p>设 $f(n)$ 表示填满 $3\times 2n$ 的格子的总方案，则</p>
<script type="math/tex; mode=display">
f(n)=f(n-1)+\sum^{n}_{i=1}2\times f(n-i)</script><p>边界：$f(0)=1$ 。</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(n==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> tmp = f(n<span class="hljs-number">-1</span>);<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>		tmp += f(n-i)*<span class="hljs-number">2</span>;<br>	<span class="hljs-keyword">return</span> tmp;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; n;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; f(n) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>再试试，<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30742054">40</a>。</p>
<p>还要加记忆化，&amp;高精度的记忆化。</p>
<p>（YD 被高精度虐 SPFA 了。）</p>
<p>写好了高精 + 记忆化，但是 $n\ge 72$ 就爆炸？最后 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30743325">80</a>。</p>
<p>如果答案 $\bmod$ 一个数（<del>比如19260817</del>）岂不是好做多了？</p>
<p>没了。</p>
<blockquote>
<p>这台渣机：Intel(R) Celeron(R) 2957U  @ 1.40 GHz    1.40 GHz</p>
</blockquote>
<h4 id="2020-02-18"><a href="#2020-02-18" class="headerlink" title="2020/02/18"></a>2020/02/18</h4><p>什么时候能把<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/list?page=1">这一页</a>上的题全做完呢？</p>
<h4 id="11-00-a-m"><a href="#11-00-a-m" class="headerlink" title="11:00 a.m."></a>11:00 a.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1002">P1002</a>。</p>
<p>不考虑马的阻拦，因为卒只能向下或向右走，到一个点的路径总数等于到左边点（如果有）的路径总数与到右边点（如果有）的路径总数之和。</p>
<p>如果把马加上，也就是到被马控制点的路径总数等于 $0$。</p>
<p>设 $f(x,y)$ 表示从起点 $(0,0)$ 到终点 $(x,y)$ 的路径总和，则</p>
<script type="math/tex; mode=display">
f(x,y)=f(x-1,y)+f(x,y-1)</script><p>边界条件：$x&lt;0$ 或 $y&lt;0$ 或点 $(x,y)$ 为马控制点时，$f(x,y)=0$；$f(0,0)=1$。</p>
<p>仍然可以递归：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> dx[]=&#123;<span class="hljs-number">-2</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>&#125;, dy[]=&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">-2</span>&#125;;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">25</span>][<span class="hljs-number">25</span>], f[<span class="hljs-number">25</span>][<span class="hljs-number">25</span>];<br><span class="hljs-keyword">int</span> hx, hy, tx, ty;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">work</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(x&lt;<span class="hljs-number">0</span>||y&lt;<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(f[x][y]==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(x==<span class="hljs-number">0</span>&amp;&amp;y==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">return</span> work(x<span class="hljs-number">-1</span>,y)+work(x,y<span class="hljs-number">-1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; tx &gt;&gt; ty &gt;&gt; hx &gt;&gt; hy;<br>	f[hx][hy]=<span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">8</span>; i++)&#123;	<br>		<span class="hljs-keyword">int</span> nx=hx+dx[i], ny=hy+dy[i];<br>		<span class="hljs-keyword">if</span>(nx&gt;=<span class="hljs-number">0</span>&amp;&amp;nx&lt;<span class="hljs-number">25</span>&amp;&amp;ny&gt;=<span class="hljs-number">0</span>&amp;&amp;ny&lt;<span class="hljs-number">25</span>)<br>			f[nx][ny]=<span class="hljs-number">1</span>;		<span class="hljs-comment">///马控制点</span><br>	&#125;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; work(tx,ty) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>加 <code>unsigned long long</code> 和记忆化：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ull unsigned long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> dx[]=&#123;<span class="hljs-number">-2</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>&#125;, dy[]=&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">-2</span>&#125;;<br>ull a[<span class="hljs-number">25</span>][<span class="hljs-number">25</span>];<br><span class="hljs-keyword">bool</span> f[<span class="hljs-number">25</span>][<span class="hljs-number">25</span>];<br><span class="hljs-keyword">int</span> hx, hy, tx, ty;<br><br><span class="hljs-function">ull <span class="hljs-title">work</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(x&lt;<span class="hljs-number">0</span>||y&lt;<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(f[x][y]==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(a[x][y]!=<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> a[x][y];<br>	<span class="hljs-keyword">if</span>(x==<span class="hljs-number">0</span>&amp;&amp;y==<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> a[x][y]=<span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">return</span> a[x][y]=work(x<span class="hljs-number">-1</span>,y)+work(x,y<span class="hljs-number">-1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; tx &gt;&gt; ty &gt;&gt; hx &gt;&gt; hy;<br>	f[hx][hy]=<span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">8</span>; i++)&#123;<br>		<span class="hljs-keyword">int</span> nx=hx+dx[i], ny=hy+dy[i];<br>		<span class="hljs-keyword">if</span>(nx&gt;=<span class="hljs-number">0</span>&amp;&amp;nx&lt;<span class="hljs-number">25</span>&amp;&amp;ny&gt;=<span class="hljs-number">0</span>&amp;&amp;ny&lt;<span class="hljs-number">25</span>)<br>			f[nx][ny]=<span class="hljs-number">1</span>;<br>	&#125;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; work(tx,ty) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h4 id="07-46-p-m"><a href="#07-46-p-m" class="headerlink" title="07:46 p.m."></a>07:46 p.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1141">P1141</a>，很好的一道 BFS 题啊。</p>
<p>起点加进队列，按题意扩展节点（新节点与原节点的数字<strong>相反</strong>）。一次 BFS 结束，队列中元素个数就是答案。</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> dx[]=&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;, dy[]=&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>&#125;;		<span class="hljs-comment">//扩展节点必备</span><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">bool</span> a[<span class="hljs-number">1002</span>][<span class="hljs-number">1002</span>], isin[<span class="hljs-number">1002</span>][<span class="hljs-number">1002</span>];			<span class="hljs-comment">//a 存迷宫，isin 存该点是否在队中</span><br><span class="hljs-keyword">int</span> que[<span class="hljs-number">1000002</span>][<span class="hljs-number">2</span>];			<span class="hljs-comment">//BFS 用到队列</span><br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">bool</span> f)</span></span>&#123;				<span class="hljs-comment">//扩展出的节点能否入队</span><br>	<span class="hljs-keyword">if</span>(x&gt;<span class="hljs-number">0</span> &amp;&amp; x&lt;=n &amp;&amp; y&gt;<span class="hljs-number">0</span> &amp;&amp; y&lt;=n &amp;&amp; !isin[x][y] &amp;&amp; a[x][y]==!f)<br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;			<span class="hljs-comment">//BFS 主体部分</span><br>	<span class="hljs-built_in">memset</span>(isin, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span>(isin));			<span class="hljs-comment">//开始前 isin 清零</span><br>	<span class="hljs-keyword">int</span> head=<span class="hljs-number">0</span>, tail=<span class="hljs-number">1</span>;			<span class="hljs-comment">//这样 tail 就正好是队列元素数量</span><br>	que[head][<span class="hljs-number">0</span>]=x;<br>	que[head][<span class="hljs-number">1</span>]=y;<br>	isin[x][y]=<span class="hljs-literal">true</span>;			<span class="hljs-comment">//初始化队列</span><br>	<span class="hljs-keyword">while</span>(head&lt;tail)&#123;<br>		<span class="hljs-keyword">int</span> nowx=que[head][<span class="hljs-number">0</span>];<br>		<span class="hljs-keyword">int</span> nowy=que[head][<span class="hljs-number">1</span>];<br>		head++;					<span class="hljs-comment">//取队头</span><br>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">4</span>; i++)&#123;<br>			<span class="hljs-keyword">int</span> newx=nowx+dx[i];<br>			<span class="hljs-keyword">int</span> newy=nowy+dy[i];				<span class="hljs-comment">//扩展节点</span><br>			<span class="hljs-keyword">if</span>(check(newx, newy, a[nowx][nowy]))&#123;<br>				que[tail][<span class="hljs-number">0</span>]=newx;				<span class="hljs-comment">//节点入队</span><br>				que[tail][<span class="hljs-number">1</span>]=newy;<br>				isin[newx][newy] = <span class="hljs-literal">true</span>;<br>				tail++;<br>			&#125;<br>		&#125;<br>	&#125;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; tail &lt;&lt; <span class="hljs-built_in">endl</span>;		<span class="hljs-comment">//输出相应答案</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=n; j++)&#123;<br>		<span class="hljs-keyword">char</span> t;<br>		<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>		<span class="hljs-keyword">if</span>(t==<span class="hljs-string">&#x27;1&#x27;</span>)<br>			a[i][j]=<span class="hljs-literal">true</span>;<br>	&#125;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=m; i++)&#123;<br>		<span class="hljs-keyword">int</span> x, y;<br>		<span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;<br>		bfs(x, y);<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>提交下，<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30788717">70</a>，TLE。</p>
<p>因为询问的数量最多到 $100000$，对每一次询问都要做一次 BFS，万一每次都询问相同的格子（或者重复询问答案很大的格子），必然 TLE。</p>
<p>给 BFS 加上记忆化！开一个数组 <code>mem[i][j]</code>，每次扩展完，从头到尾扫一遍队列，很明显以队列中任意一个元素为起点的答案都算出来了，就把这个答案记下来。<code>mem[i][j]</code> 就记以第 $i$ 行第 $j$ 列的格子为起点的答案。</p>
<p>只需要改一下 BFS 函数：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(mem[x][y]!=<span class="hljs-number">0</span>)&#123;<br>		<span class="hljs-built_in">cout</span> &lt;&lt; mem[x][y] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>		<span class="hljs-keyword">return</span>;<br>	&#125;<br>    <span class="hljs-built_in">memset</span>(isin, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span>(isin));<br>	<span class="hljs-comment">/*原样写*/</span><br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tail; i++)<br>		mem[que[i][<span class="hljs-number">0</span>]][que[i][<span class="hljs-number">1</span>]] = tail;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/record/30789580">还是 TLE 了一个点！</a>过不了 $n=1000$，$m=100000$ 的数据。</p>
<p>在渣机上跑了 $9.11$ 秒，读入就花了 $0.91$ 秒。</p>
<p>翻了下讨论，发现这样一个东西：</p>
<blockquote>
<p>   ……（如果要m次初始化一个1000*1000的数组，那么。超时）</p>
<p>   <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/user/168233">——CSP_2020_qwq</a></p>
</blockquote>
<p>不用一直清零！找完那一大串点，又记过了答案，找其他一串点也会 PASS 掉这些点。</p>
<p>所以：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(mem[x][y]!=<span class="hljs-number">0</span>)&#123;<br>		<span class="hljs-built_in">cout</span> &lt;&lt; mem[x][y] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>		<span class="hljs-keyword">return</span>;<br>	&#125;<br><span class="hljs-comment">//	memset(isin, false, sizeof(isin));</span><br>	<span class="hljs-comment">/*原样写*/</span><br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;tail; i++)<br>		mem[que[i][<span class="hljs-number">0</span>]][que[i][<span class="hljs-number">1</span>]] = tail;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">std</span>::ios::sync_with_stdio(<span class="hljs-number">0</span>);	<span class="hljs-comment">//加速读入</span><br>	<span class="hljs-comment">/*原样写*/</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>渣机测试，读入 $0.32$ 秒，运行 $2.35$ 秒。</p>
<p>到了 LG 上可以 $155$ ms（#2）/ $49.3$ ms（avg） 瞬间 AC？</p>
<p>一道 $\color{Orange}\colorbox{White}{普及-}$ 的题目坑我<del>半天</del>一直到 09:20 p.m.！</p>
<p><del>等我有钱了，一定买台像 LG 评测机那样的电脑。（服务器永远买不起）</del></p>
<h5 id="End-1"><a href="#End-1" class="headerlink" title="End."></a>End.</h5><blockquote>
<p>这一行好像少了点什么。</p>
</blockquote>
<h4 id="a-m"><a href="#a-m" class="headerlink" title="??:?? a.m."></a>??:?? a.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problemnew/show/P1057">P1057 传球游戏</a>。</p>
<p>又一道 <del>DP</del> 递归题（不会 DP 啊 $QwQ$）。</p>
<p>还是倒着分析，考虑最后一步的可能情况，就是从 $1$ 号左边或右边传来，那递归就好写了。设 $f(n,m)$ 表示用 $m$ 步从 $1$ 号传到 $n$ 号所用步数，则</p>
<script type="math/tex; mode=display">
f(n,m)=f(n-1,m-1)+f(n+1,m-1)</script><p>注意特殊情况，特判 $n=1$ 或 $n=N$ （$N$ 表示同学总数），改变编号。第一步只能从 $1$ 传到 $2$ 或 $N-1$，所以 $f(2,1)=1$，$f(N,1)=1$，$m=1$ 的其他情况答案为 $0$。</p>
<p>数据范围 $3 \le n \le 30,1 \le m \le 30$，无需特判 $N=2$ 的情况。</p>
<p>code + memory:</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> N, M;<br><span class="hljs-keyword">int</span> mem[<span class="hljs-number">32</span>][<span class="hljs-number">32</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(mem[n][m]!=<span class="hljs-number">-1</span>)<br>		<span class="hljs-keyword">return</span> mem[n][m];<br>	<span class="hljs-keyword">if</span>(m==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">if</span>(n==<span class="hljs-number">2</span>||n==N)<br>			<span class="hljs-keyword">return</span> mem[n][m]=<span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">else</span><br>			<span class="hljs-keyword">return</span> mem[n][m]=<span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">return</span> mem[n][m]=f(N, m<span class="hljs-number">-1</span>)+f(n+<span class="hljs-number">1</span>, m<span class="hljs-number">-1</span>);<br>	<span class="hljs-keyword">if</span>(n==N)<br>		<span class="hljs-keyword">return</span> mem[n][m]=f(n<span class="hljs-number">-1</span>, m<span class="hljs-number">-1</span>)+f(<span class="hljs-number">1</span>, m<span class="hljs-number">-1</span>);<br>	<span class="hljs-keyword">return</span> mem[n][m]=f(n<span class="hljs-number">-1</span>, m<span class="hljs-number">-1</span>)+f(n+<span class="hljs-number">1</span>, m<span class="hljs-number">-1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>	<span class="hljs-built_in">memset</span>(mem, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(mem));<br>	<span class="hljs-built_in">cin</span> &gt;&gt; N &gt;&gt; M ;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; f(<span class="hljs-number">1</span>, M) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>简化特判的情况：$a_i$ 表示第 $i$ 个人的编号（$a_i=i,1\le i \le N$），$a_{i-1}$ 和 $a_{i+1}$ 分别表示第 $i$ 个人左边和右边的人的编号。很明显，$a_{1-1}=a_{0}=N$，$a_{N+1}=1$。则</p>
<script type="math/tex; mode=display">
f(n,m)=f(a_{n-1},m-1)+f(a_{n+1},m-1)</script><p>修改后：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(mem[n][m]!=<span class="hljs-number">-1</span>)<br>		<span class="hljs-keyword">return</span> mem[n][m];<br>	<span class="hljs-keyword">if</span>(m==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">if</span>(n==<span class="hljs-number">2</span>||n==N)<br>			<span class="hljs-keyword">return</span> mem[n][m]=<span class="hljs-number">1</span>;<br>		<span class="hljs-keyword">else</span><br>			<span class="hljs-keyword">return</span> mem[n][m]=<span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">return</span> mem[n][m]=f(a[n<span class="hljs-number">-1</span>], m<span class="hljs-number">-1</span>)+f(a[n+<span class="hljs-number">1</span>], m<span class="hljs-number">-1</span>);<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>DP 的解法以后再看。</p>
<h4 id="12-12-p-m"><a href="#12-12-p-m" class="headerlink" title="12:12 p.m."></a>12:12 p.m.</h4><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/T105758">又要铺地板！</a></p>
<p>再画画 $n=1$，$n=2$，$n=3$，$\cdots$。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/6xpgz1xp.png" srcset="/img/loading.gif" alt=""></p>
<p>（上图的次序有点问题）</p>
<p>能拆分成 $1\times 3$（独占 $1$ 种）和 $2\times 3$（独占 $2$ 种）的两种情况。</p>
<p>设 $f(x)$ 为 $3\cdot x$ 的地板的填法。考虑最后 $1\times 3$（使用 $1\times 1$ 的地板）或 $2\times 3$（同时使用 $1\times 1$ 和 $1\times 2$ 的地板）的填法，那么</p>
<script type="math/tex; mode=display">
f(x)=f(x-1)+2f(x-2)</script><p>边界条件：$f(1)=1$，$f(2)=3$。</p>
<p>这个递归/递推比较简单。</p>
<p>递归 code：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>	<span class="hljs-keyword">if</span>(a[x]!=<span class="hljs-number">0</span>)<br>		<span class="hljs-keyword">return</span> a[x];<br>	<span class="hljs-keyword">if</span>(x==<span class="hljs-number">1</span>)<br>		<span class="hljs-keyword">return</span> a[x]=<span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">if</span>(x==<span class="hljs-number">2</span>)<br>		<span class="hljs-keyword">return</span> a[x]=<span class="hljs-number">3</span>;<br>	<span class="hljs-keyword">return</span> a[x]=(f(x<span class="hljs-number">-1</span>)+<span class="hljs-number">2</span>*f(x<span class="hljs-number">-2</span>))%MOD;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>递推 code：</p>
<figure class="highlight cpp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs cpp">a[<span class="hljs-number">0</span>]=a[<span class="hljs-number">1</span>]=<span class="hljs-number">1</span>;<br>a[<span class="hljs-number">2</span>]=<span class="hljs-number">3</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">3</span>; i&lt;=n; i++)<br>	a[i] = (a[i<span class="hljs-number">-1</span>]+<span class="hljs-number">2</span>*a[i<span class="hljs-number">-2</span>])%MOD;<br></code></pre></div></td></tr></table></figure>
<p>再看？没了。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/OI/">OI</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/02/14/san-xie-qiu-ji-shu/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">关于三斜求积术</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/02/14/some-links/">
                        <span class="hidden-mobile">一些链接</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://lyer.xyz" target="_blank" rel="nofollow noopener"><span>LyerLighter</span></a> <i class="iconfont icon-love"></i> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg.js" ></script>

  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



</body>
</html>
